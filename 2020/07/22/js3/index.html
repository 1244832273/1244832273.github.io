<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.5"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.5"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><title>栈 | 越努力越幸运</title><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">栈</h1><a id="logo" href="/.">越努力越幸运</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">栈</h1><div class="post-meta"><a href="/2020/07/22/js3/#comments" class="comment-count"></a><p><span class="date">Jul 22, 2020</span><span><a href="/categories/%E5%AD%A6%E4%B9%A0JavaScript%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="category">学习JavaScript数据结构与算法</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h4 id="什么是栈"><a href="#什么是栈" class="headerlink" title="什么是栈"></a>什么是栈</h4><p>栈是一种遵从后进先出（LIFO）原则的有序集合。新添加的或待删除的元素都保存在栈的 末尾，称作栈顶，另一端就叫栈底。在栈里，新元素都靠近栈顶，旧元素都接近栈底。 </p>
<p>例如，下图里的一摞书或者餐厅里堆放的盘子。</p>
<p><img src="/images/js3-2.png" alt=""></p>
<p><img src="E:\1244832273.github.io\themes\next\source\images\js3-2.png" alt=""></p>
<h4 id="栈的创建"><a href="#栈的创建" class="headerlink" title="栈的创建"></a>栈的创建</h4><p>我们将创建一个类来表示栈。让我们从基础开始，先声明这个类： function </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stack() &#123; &#x2F;&#x2F;各种属性和方法的声明 &#125;</span><br></pre></td></tr></table></figure>
<p>首先，我们需要一种数据结构来保存栈里的元素。可以选择数组： var items = []; 接下来，要为我们的栈声明一些方法。</p>
<p>  push(element(s))：添加一个（或几个）新元素到栈顶。</p>
<p>  pop()：移除栈顶的元素，同时返回被移除的元素。 </p>
<p> peek()：返回栈顶的元素，不对栈做任何修改（这个方法不会移除栈顶的元素，仅仅返 回它）。 </p>
<p> isEmpty()：如果栈里没有任何元素就返回true，否则返回false。  clear()：移除栈里的所有元素。 </p>
<p> size()：返回栈里的元素个数。这个方法和数组的length属性很类似。 我们要实现的第一个方法是push。这个方法负责往栈里添加新元素，有一点很重要：该方 法只添加元素到栈顶，也就是栈的末尾。</p>
<p>push方法可以这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.push &#x3D; function(element)&#123;</span><br><span class="line"> items.push(element);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>因为我们使用了数组来保存栈里的元素，所以可以用上一章里学到的数组的push方法来实现。 接着，我们来实现pop方法。这个方法主要用来移除栈里的元素。栈遵从LIFO原则，因此移 出的是最后添加进去的元素。因此，我们可以用上一章讲数组时介绍的pop方法。</p>
<p>栈的pop方法 可以这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.pop &#x3D; function()&#123;</span><br><span class="line"> return items.pop();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>只能用push和pop方法添加和删除栈中元素，这样一来，我们的栈自然就遵从了LIFO原则。 </p>
<p>现在，为我们的类实现一些额外的辅助方法。如果想知道栈里最后添加的元素是什么，可以 用peek方法。这个方法将返回栈顶的元素：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.peek &#x3D; function()&#123;</span><br><span class="line"> return items[items.length-1];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>因为类内部是用数组保存元素的，所以访问数组的最后一个元素可以用 length - 1：</p>
<p><img src="/images/js3-1.png" alt=""></p>
<p><img src="E:\1244832273.github.io\themes\next\source\images\js3-1.png" alt=""></p>
<p>在上图中，有一个包含三个元素的栈，因此内部数组的长度就是3。数组中最后一项的位置 是2，length - 1（31）正好是2。 </p>
<p>下一个要实现的方法是 isEmpty，如果栈为空的话将返回true，否则就返回false：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.isEmpty &#x3D; function()&#123;</span><br><span class="line"> return items.length &#x3D;&#x3D; 0;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="栈的全部代码"><a href="#栈的全部代码" class="headerlink" title="栈的全部代码"></a>栈的全部代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function Stack() &#123;</span><br><span class="line"> var items &#x3D; [];</span><br><span class="line"> this.push &#x3D; function(element)&#123;</span><br><span class="line"> items.push(element);</span><br><span class="line"> &#125;;</span><br><span class="line"> this.pop &#x3D; function()&#123;</span><br><span class="line"> return items.pop();</span><br><span class="line"> &#125;;</span><br><span class="line"> this.peek &#x3D; function()&#123; &#x2F;&#x2F; 返回最后一位</span><br><span class="line"> return items[items.length-1];</span><br><span class="line"> &#125;;</span><br><span class="line"> this.isEmpty &#x3D; function()&#123;</span><br><span class="line"> return items.length &#x3D;&#x3D; 0;</span><br><span class="line"> &#125;;</span><br><span class="line"> this.size &#x3D; function()&#123;</span><br><span class="line"> return items.length;</span><br><span class="line"> &#125;;</span><br><span class="line"> this.clear &#x3D; function()&#123;</span><br><span class="line"> items &#x3D; [];</span><br><span class="line"> &#125;;</span><br><span class="line"> this.print &#x3D; function()&#123;</span><br><span class="line"> console.log(items.toString());</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="从十进制到二进制"><a href="#从十进制到二进制" class="headerlink" title="从十进制到二进制"></a>从十进制到二进制</h4><p>现实生活中，我们主要使用十进制。但在计算科学中，二进制非常重要，因为计算机里的所 有内容都是用二进制数字表示的（0和1）。没有十进制和二进制相互转化的能力，与计算机交流 就很困难。 </p>
<p>要把十进制转化成二进制，我们可以将该十进制数字和2整除（二进制是满二进一），直到结 果是0为止。举个例子，把十进制的数字10转化成二进制的数字，过程大概是这样：</p>
<p><img src="/images/js3-3.png" alt=""></p>
<p><img src="E:\1244832273.github.io\themes\next\source\images\js3-3.png" alt=""></p>
<p>下面是对应的算法描述：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function divideBy2(decNumber)&#123;</span><br><span class="line"> var remStack &#x3D; new Stack(), &#x2F;&#x2F; new一个栈对象</span><br><span class="line"> rem,</span><br><span class="line"> binaryString &#x3D; &#39;&#39;;</span><br><span class="line"> while (decNumber &gt; 0)&#123; &#x2F;&#x2F;&#123;1&#125;判断取余后的值是否大于0</span><br><span class="line">     rem &#x3D; Math.floor(decNumber % 2); &#x2F;&#x2F;&#123;2&#125; 取余的值</span><br><span class="line">     remStack.push(rem); &#x2F;&#x2F;&#123;3&#125; </span><br><span class="line">     decNumber &#x3D; Math.floor(decNumber &#x2F; 2); &#x2F;&#x2F;&#123;4&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> while (!remStack.isEmpty())&#123; &#x2F;&#x2F;&#123;5&#125;利用栈的后进先出原则来输出取余后的值</span><br><span class="line">	 binaryString +&#x3D; remStack.pop().toString();</span><br><span class="line"> &#125;</span><br><span class="line"> return binaryString;</span><br></pre></td></tr></table></figure>
<p>在这段代码里，当结果满足和2做整除的条件时（行{1}），我们会获得当前结果和2的余数， 放到栈里（行{2}、{3}）。然后让结果和2做整除（行{4}）。</p>
<p>另外请注意：JavaScript有数字类型， 但是它不会区分究竟是整数还是浮点数。</p>
<p>因此，要使用Math.floor函数让除法的操作仅返回整 数部分。最后，用pop方法把栈中的元素都移除，把出栈的元素变成连接成字符串（行{5}）。 </p>
<p>用刚才写的算法做一些测试，使用以下代码把结果输出到控制台里：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.log(divideBy2(233)); &#x2F;&#x2F;输出11101001</span><br><span class="line">console.log(divideBy2(10)); &#x2F;&#x2F;输出1010</span><br><span class="line">console.log(divideBy2(1000)); &#x2F;&#x2F;输出1111101000</span><br></pre></td></tr></table></figure>
<p>我们很容易修改之前的算法，使之能把十进制转换成任何进制。除了让十进制数字和2整除 转成二进制数，还可以传入其他任意进制的基数为参数，</p>
<p>就像下面算法这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function baseConverter(decNumber, base)&#123;</span><br><span class="line"> var remStack &#x3D; new Stack(),</span><br><span class="line"> rem,</span><br><span class="line"> baseString &#x3D; &#39;&#39;,</span><br><span class="line"> digits &#x3D; &#39;0123456789ABCDEF&#39;; &#x2F;&#x2F;&#123;6&#125;</span><br><span class="line"> while (decNumber &gt; 0)&#123;</span><br><span class="line">     rem &#x3D; Math.floor(decNumber % base);</span><br><span class="line">     remStack.push(rem);</span><br><span class="line">     decNumber &#x3D; Math.floor(decNumber &#x2F; base);</span><br><span class="line"> &#125;</span><br><span class="line"> while (!remStack.isEmpty())&#123;</span><br><span class="line"> 	baseString +&#x3D; digits[remStack.pop()]; &#x2F;&#x2F;&#123;7&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> return baseString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们只需要改变一个地方。在将十进制转成二进制时，余数是0或1；在将十进制转成八进制 时，余数是0到8之间的数；但是将十进制转成16进制时，余数是0到8之间的数字加上A、B、C、 D、E和F（对应10、11、12、13、14和15）。因此，我们需要对栈中的数字做个转化才可以（行 {6}和行{7}）。</p>
<p>可以使用之前的算法，输出结果如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.log(baseConverter(100345, 2)); &#x2F;&#x2F;输出11000011111111001</span><br><span class="line">console.log(baseConverter(100345, 8)); &#x2F;&#x2F;输出303771</span><br><span class="line">console.log(baseConverter(100345, 16)); &#x2F;&#x2F;输出187F9</span><br></pre></td></tr></table></figure>
</div><div class="post-copyright"><blockquote><p>原文作者: 鲁田文</p><p>原文链接: <a href="https://1244832273.github.io/2020/07/22/js3/">https://1244832273.github.io/2020/07/22/js3/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/JavaScript/">JavaScript</a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a><a href="/tags/%E5%AD%A6%E4%B9%A0JavaScript%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">学习JavaScript数据结构与算法</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2020/07/22/js4/" class="pre">队列</a><a href="/2020/07/21/js2/" class="next">数组</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是栈"><span class="toc-text">什么是栈</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#栈的创建"><span class="toc-text">栈的创建</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#栈的全部代码"><span class="toc-text">栈的全部代码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#从十进制到二进制"><span class="toc-text">从十进制到二进制</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/07/22/js4/">队列</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/22/js3/">栈</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/21/js2/">数组</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/21/js1/">js的==和===转换</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/21/moban/">模板</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/21/hexoUse/">hexo多台电脑使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/20/react_1/">hook原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/20/newType/">康奈尔笔记法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/19/my-first-blog/">测试#文章页面上的显示名称，一般是中文</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%B7%AB%E6%8A%80%E5%B7%A7/">奇淫技巧</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0JavaScript%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">学习JavaScript数据结构与算法</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/">学习方法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/%E5%A5%87%E6%B7%AB%E6%8A%80%E5%B7%A7/" style="font-size: 15px;">奇淫技巧</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 15px;">数据结构与算法</a> <a href="/tags/%E5%AD%A6%E4%B9%A0JavaScript%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 15px;">学习JavaScript数据结构与算法</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/" style="font-size: 15px;">学习方法</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/hooks/" style="font-size: 15px;">hooks</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">9</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">鲁田文.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.5"></script><div id="fullscreen-img" class="hide"><span class="close"></span></div><script type="text/javascript" src="/js/imgview.js?v=2.0.5" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.5" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>